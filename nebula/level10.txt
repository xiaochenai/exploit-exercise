2015/03/07/12:52 
search "exploiting access() system call"

http://stackoverflow.com/questions/14333112/access2-system-call-security-issue

so the idea to solve this challenge is 
create a file in /tmp folder use this file as the first argument for the flag10 file in the home folder

after access and before open repalce it with a new file which has a symlink to token file or /etc/crontab

The question is how to do this between access and before

struct:http://en.wikipedia.org/wiki/Struct_%28C_programming_language%29

printf("Connecting to %s:18211 .. ", host); fflush(stdout); connect to host at 18211 port

socket(2):http://linux.die.net/man/2/socket

before open file the program will try to connect to host at 18211 and write banner first
then open the file which we passed in as first argument, read out file contents and sned the contents to the host:18211

0.5h
have no idea how to do so between access and open
answer is here:
https://github.com/1u4nx/Exploit-Exercises-Nebula/blob/master/Level10%E2%80%94%E2%80%94%E8%AE%BF%E9%97%AE%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6%E6%BC%8F%E6%B4%9E.md
man nice
http://linux.die.net/man/1/nice
the secret is 
615a2ce1-b2b5-4c76-8eed-8aa5c4015c27

a possible approach
suspend the process of flag10
change the link
resume the process of flag10

Q:
	1. how to suspend/resume process
	2. how to find that specific process
A: 
ref:http://www.cyberciti.biz/faq/show-all-running-processes-in-linux/
	http://linuxpoison.blogspot.com/2007/11/temporarily-suspend-process.html
	1. kill -STOP PID; kill -CONT PID
	2. ps aux | less find the PID of a process

ref:http://www.linuxsir.org/bbs/thread239137.html
ref:http://unixhelp.ed.ac.uk/CGI/man-cgi?xargs
ref:http://unixhelp.ed.ac.uk/CGI/man-cgi?awk
	2. ps aux | less | grep ./yy | awk '{print $2}' | xargs -i kill -STOP {}

aux:
	a - show processes for all users
	u - display the process;s user/owner
	x - also show processes not attached to a terminal
clear re.txt
run nc -k -l 127.0.0.1 18211 > re.txt in tyy1
run ./yy in tyy2
run ./level10_1 in tyy3

after a few seconds open re.txt
this approach can also dump the credential
